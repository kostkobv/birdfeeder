language: go
go:
  - 1.9.1
before_install:
  - go get -v github.com/Masterminds/glide
  - go get -u gopkg.in/alecthomas/gometalinter.v1
  - GOPATH=$GOPATH:/home/travis/gopath/src/github.com/kostkobv/messagebirdtest
install:
  - glide install
  - gometalinter.v1 -i
  - go install github.com/kostkobv/messagebirdtest/api
  - go install github.com/kostkobv/messagebirdtest/config
  - go install github.com/kostkobv/messagebirdtest/external
  - go install github.com/kostkobv/messagebirdtest/mocks
  - go install github.com/kostkobv/messagebirdtest/queue
  - go install github.com/kostkobv/messagebirdtest/utils
script:
  - bash run_tests.sh
  - make lint
after_success:
  - bash <(curl -s https://codecov.io/bash)